title: 浅析Java各种变量线程安全问题
author: 学亮
tags:
  - 线程安全
categories: []
date: 2019-04-30 11:40:00
---
> 静态方法
> 非静态方法
> 静态变量
> 实例变量
> 局部变量
<!--more-->

**静态方法（Static Method）**

> 与静态成员变量一样，属于类本身，在类装载的时候被装载到内存（Memory），不自动进行销毁，会一直存在于内存中，直到JVM关闭。

**非静态方法（Non-Static Method）**

> 又叫实例化方法，属于实例对象，实例化后才会分配内存，必须通过类的实例来引用。不会常驻内存，当实例对象被JVM 回收之后，也跟着消失。



**静态变量：线程非安全。**

> 变量即类变量，位于方法区，为所有该类下的对象共享，共享一份内存，一旦静态变量被修改，其他对象均对修改可见，故线程非安全。

**变量：单例模式（只有一个对象实例存在）线程非安全，非单例线程安全。**

> 实例变量为对象实例私有，在虚拟机的堆中分配，若在系统中只存在一个此对象的实例，在多线程环境下，“犹如”静态变量那样，被某个线程修改后，其他线程对修改均可见，故线程非安全；如果每个线程执行都是在不同的对象中，那对象与对象之间的实例变量的修改将互不影响，故线程安全。

**局部变量：线程安全。**

> 每个线程执行时将会把局部变量放在各自栈帧的工作内存中，线程间不共享，故不存在线程安全问题。
